<div class="max-w-xl mx-auto">
  <form 
    name="subscribe" 
    method="POST" 
    data-netlify="true"
    action="/success"
    netlify-honeypot="bot-field"
    class="flex flex-col sm:flex-row gap-3"
  >
    <input type="hidden" name="form-name" value="subscribe" />
    <input type="hidden" name="bot-field" />

    <div class="flex-1">
      <input 
        type="email" 
        name="email" 
        id="email" 
        required
        placeholder="Masukkan email Anda"
        class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 h-12 px-4 text-base"
      />
    </div>

    <div id="name-field" class="hidden flex-1">
      <input 
        type="text" 
        name="name" 
        id="name"
        placeholder="Nama Anda (opsional)"
        class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 h-12 px-4 text-base"
      />
    </div>

    <button 
      type="submit"
      class="bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-base font-medium whitespace-nowrap"
    >
      Berlangganan
    </button>
  </form>
</div>

<script>
  const emailInput = document.getElementById('email');
  const nameField = document.getElementById('name-field');

  emailInput?.addEventListener('input', (e) => {
    const email = e.target.value;
    if (email.includes('@')) {
      nameField?.classList.remove('hidden');
    } else {
      nameField?.classList.add('hidden');
    }
  });
</script> 